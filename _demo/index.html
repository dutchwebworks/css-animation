<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>3magine's CSS3 Animations</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <link rel="stylesheet" href="style.css">
        <script src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
        <script src="http://www.3magine.com/wp-content/themes/3magine/js/jquery.appear-1.1.1.modified.js"></script>
        
        <script>
			if (Modernizr.csstransitions) {
				function preloadImages(imgs, callback) {
					var cache = [],
						imgsTotal = imgs.length,
						imgsLoaded = 0;
			
					$(imgs).each(function (i, img) {
						var cacheImage = document.createElement('img');
						cacheImage.onload = function () {
							if (++imgsLoaded == imgsTotal) callback();
						};
						cacheImage.src = $(img).attr('src');
						cache.push(cacheImage);
					});
				};
				$.fn.trans = function () {
					var t = arguments[0],
						d = arguments[1] || '';
					if (t) {
						$.each(this, function (i, e) {
							$(['-webkit-', '-moz-', '-o-', '-ms-', '']).each(function (i, p) {
								$(e).css(p + 'transition' + d, t);
							});
						});
					}
				};
				
				document.write('<link rel="stylesheet" href="animations.css" />');
			
				$(function(){
					//preload images contained within elements that need to animate
					preloadImages($('.services img, .featured img'), function () {
						$('.services, .featured').appear({
							once: true,
							forEachVisible: function (i, e) {
								$(e).data('delay', i);
							},
							appear: function () {
								var delay = 150,
									stagger = 800,
									sequential_delay = stagger * parseInt($(this).data('delay')) || 0;
			
								$(this).children().each(function (i, e) {
									$(e).trans(i * delay + sequential_delay + 'ms', '-delay');
								});
								$(this).removeClass('animationBegin');
							}
						});
					});
				});
			}
		</script>
    </head>
    <body>


	    <div class="wrapper" style="margin: 0 auto;width: 500px;">
	    	<section>
	    		<article>
	    			<h1>Css animation test</h1>
	    	
	    			<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Id, molestiae accusantium rem et impedit similique possimus expedita eveniet in quo. Vel, laudantium sint odit porro sunt blanditiis et aut dolorum rem earum cumque eligendi optio quisquam ea nostrum adipisci fugit.</p>
	    			<p>Velit, voluptas recusandae tenetur obcaecati amet harum a ut porro aspernatur dolorem fugiat quia error illo officiis natus ipsam veritatis animi ducimus dolore autem consequuntur iure iste quas rerum ullam voluptates nemo debitis voluptate deleniti laboriosam hic consectetur quae reprehenderit.</p>
	    			<p>Nam, porro, laboriosam, ex, aspernatur obcaecati amet a velit minus dolores laudantium facere aliquid explicabo iste pariatur error culpa odio illo. Suscipit, a, ea, enim, cum ut iste repellendus eveniet assumenda voluptatum iusto repudiandae repellat recusandae aliquam neque corporis architecto!</p>
	    			<p>Reprehenderit, possimus, at quam ut explicabo repellat reiciendis dolorem? Eveniet, porro, deserunt velit labore veritatis placeat accusamus maxime aperiam minus sequi recusandae ea neque? Exercitationem, expedita, tenetur, amet, ea corrupti in quis maxime magnam dolores rem similique nihil soluta nesciunt!</p>
	    			<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Id, molestiae accusantium rem et impedit similique possimus expedita eveniet in quo. Vel, laudantium sint odit porro sunt blanditiis et aut dolorum rem earum cumque eligendi optio quisquam ea nostrum adipisci fugit.</p>
	    			<p>Velit, voluptas recusandae tenetur obcaecati amet harum a ut porro aspernatur dolorem fugiat quia error illo officiis natus ipsam veritatis animi ducimus dolore autem consequuntur iure iste quas rerum ullam voluptates nemo debitis voluptate deleniti laboriosam hic consectetur quae reprehenderit.</p>
	    			<p>Nam, porro, laboriosam, ex, aspernatur obcaecati amet a velit minus dolores laudantium facere aliquid explicabo iste pariatur error culpa odio illo. Suscipit, a, ea, enim, cum ut iste repellendus eveniet assumenda voluptatum iusto repudiandae repellat recusandae aliquam neque corporis architecto!</p>
	    			<p>Reprehenderit, possimus, at quam ut explicabo repellat reiciendis dolorem? Eveniet, porro, deserunt velit labore veritatis placeat accusamus maxime aperiam minus sequi recusandae ea neque? Exercitationem, expedita, tenetur, amet, ea corrupti in quis maxime magnam dolores rem similique nihil soluta nesciunt!</p>
	    	
	    			<ul>
	    				<li>Based on <a href="http://www.creativebloq.com/css3/getting-css-animations-trigger-1132906">this article by CreativeBloq.com &#8594; Getting CSS animations to trigger at the right time</a></li>
	    				<li>See a working <a href="_demo/">_demo/</a></li>
	    			</ul>
	    		</article>
	    	</section>
	    	
			<ul class="services animationBegin">
			    <li class="imac-small">
			        <h2><a href="http://www.3magine.com/wordpress-cms/">WordPress &amp; CMS</a></h2>
			        <a href="http://www.3magine.com/wordpress-cms/"><span class="device"><img width="162" height="92" src="http://www.3magine.com/wp-content/uploads/2012/04/tiny.png" class="attachment-post-thumbnail wp-post-image" alt="tiny" title="tiny" /></span></a>
			        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>
			    </li>
			    <li class="air-small">
			        <h2><a href="http://www.3magine.com/ui-ux-design/">UI &amp; UX Design</a></h2>
			        <a href="http://www.3magine.com/ui-ux-design/"><span class="device"><img width="116" height="73" src="http://www.3magine.com/wp-content/uploads/2012/04/tiny2.png" class="attachment-post-thumbnail wp-post-image" alt="tiny" title="tiny" /></span></a>
			        <p>Lorem Ipsum has been the industry's standard dummy text ever since the 1500s...</p>
			    </li>
			    <li class="ipad-small">
			        <h2><a href="http://www.3magine.com/web-applications/">Web Applications</a></h2>
			        <a href="http://www.3magine.com/web-applications/"><span class="device"><img width="88" height="118" src="http://www.3magine.com/wp-content/uploads/2012/04/web-applications-sample.png" class="attachment-post-thumbnail wp-post-image" alt="web-applications-sample" title="web-applications-sample" /></span></a>
			        <p>...when an unknown printer took a galley of type and scrambled it to make a type specimen book.</p>
			    </li>
			    <li class="pro-small last">
			        <h2><a href="http://www.3magine.com/social-networks/">Social Networks</a></h2>
			        <a href="http://www.3magine.com/social-networks/"><span class="device"><img width="121" height="76" src="http://www.3magine.com/wp-content/uploads/2012/04/tiny3.png" class="attachment-post-thumbnail wp-post-image" alt="tiny" title="tiny" /></span></a>
			        <p>It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.</p>
			    </li>
			</ul>

			<ul class="featured animationBegin">
			    <li><img src="http://www.3magine.com/wp-content/themes/3magine/images/featured-on.png" alt="Featured on"></li>
			    <li><img src="http://www.3magine.com/wp-content/themes/3magine/images/logos/cbc.png" alt="CBC Television"></li>
			    <li><img src="http://www.3magine.com/wp-content/themes/3magine/images/logos/techvibes.png" alt="Techvibes"></li>
			    <li><img src="http://www.3magine.com/wp-content/themes/3magine/images/logos/daytime.png" alt="Daytime Toronto"></li>
			    <li><img src="http://www.3magine.com/wp-content/themes/3magine/images/logos/den.png" alt="Dragon's Den"></li>
			    <li class="last"><img src="http://www.3magine.com/wp-content/themes/3magine/images/logos/z.png" alt="Z103.5"></li>
			</ul>
	    </div>

    </body>
</html>